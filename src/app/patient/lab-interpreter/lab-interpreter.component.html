<div class="container py-5">
  <div class="text-center mb-5">
    <h2 class="display-5 fw-bold text-primary mb-2">ðŸ§ª AI-Based Lab Report Interpreter</h2>
    <p class="lead  mx-auto" style="max-width: 750px;">
      Upload your lab report and let AI interpret it for you in simple terms.
    </p>
  </div>

  <div class="card custom-card p-5 shadow-lg animate__animated animate__fadeIn">

    <label for="fileInput" class="custom-file-label">
      <input
        type="file"
        id="fileInput"
        accept=".pdf"
        (change)="onFileSelected($event)"
        class="custom-file-input"
      />
      <span class="custom-file-button">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="#0d6efd" viewBox="0 0 16 16" class="bi bi-upload">
          <path d="M.5 9.9a.5.5 0 0 1 .5-.4h4a.5.5 0 0 1 0 1H1.707l2.147 2.146a.5.5 0 0 1-.708.708L1 10.707V13a.5.5 0 0 1-1 0v-3a.5.5 0 0 1 .5-.1z"/>
          <path d="M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 1 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708l3-3z"/>
        </svg>
        <span>Click here to select your PDF lab report</span>
      </span>
    </label>

    <small class="text-muted d-block mt-2 mb-4">Only PDF files accepted. Max size: 10MB.</small>

    <div *ngIf="loading" class="loading-container">
      <div class="spinner-border text-primary" style="width: 3rem; height: 3rem;" role="status" aria-label="Loading"></div>
      <p class="loading-text">Analyzing your lab report...</p>
    </div>

    <div *ngIf="interpretation && !loading" class="interpretation-container animate__animated animate__fadeInUp">
      <h5 class="text-success fw-bold d-flex align-items-center gap-2">
        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" viewBox="0 0 16 16" class="bi bi-heart-pulse-fill">
          <path fill-rule="evenodd" d="M8 2.748l-.717-.737C5.6.281 2.514.878 1.4 3.053-.374 7.013 7.646 15 8 15c.354 0 8.374-7.987 6.6-11.947C13.486.878 10.4.28 8.717 2.01L8 2.748z"/>
          <path d="M10.58 6.165L8.42 10.19 7.356 8.56 5.854 11.04"/>
        </svg>
        AI Interpretation:
      </h5>
      <div
        class="alert alert-light border border-success rounded-3 mt-3"
        style="white-space: pre-line; font-size: 1.05rem; line-height: 1.5;"
        role="region"
        aria-live="polite"
      >
        {{ interpretation }}
      </div>
    </div>

    <div *ngIf="error && !loading" class="alert alert-danger mt-4 animate__animated animate__shakeX" role="alert">
      {{ error }}
    </div>

  </div>
</div>
